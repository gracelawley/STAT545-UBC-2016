<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Help on the package homework</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>
<link href="libs/highlightjs-1.1/default.css" rel="stylesheet" />
<script src="libs/highlightjs-1.1/highlight.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68219208-1', 'auto');
  ga('send', 'pageview');

</script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="libs/local/main.css" type="text/css" />
<link rel="stylesheet" href="libs/local/nav.css" type="text/css" />
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->





<header>
  <div class="nav">
    <a class="nav-logo" href="index.html">
      <img src="static/img/stat545-logo-s.png" width="70px" height="70px"/>
    </a>
    <ul>
      <li class="home"><a href="index.html">Home</a></li>
      <li class="faq"><a href="faq.html">FAQ</a></li>
      <li class="syllabus"><a href="syllabus.html">Syllabus</a></li>
      <li class="topics"><a href="topics.html">Topics</a></li>
      <li class="people"><a href="people.html">People</a></li>
    </ul>
  </div>
</header>

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Help on the package homework</h1>

</div>

<div id="TOC">
<ul>
<li><a href="#get-to-the-starting-line">Get to the starting line</a></li>
<li><a href="#install-your-peers-package">Install your peer’s package</a></li>
</ul>
</div>

<p>Here is how to</p>
<ul>
<li>Get started on the package homework</li>
<li>Install your peer’s package for review</li>
</ul>
<p>If you don’t need help with either of these, then carry on.</p>
<div id="get-to-the-starting-line" class="section level2">
<h2>Get to the starting line</h2>
<p>Here’s how I would start the <a href="hw09_package.html">homework on making an R package</a>. Basically you want to get the fiddliest moving parts working early and then keep it that way. In this case, I assume that means obtaining the <code>foofactors</code> package I have left for you to extend and making sure you can develop your own copy and push it back up to GitHub.</p>
<p>Option #1: Obtain <code>foofactors</code>as a ZIP archive</p>
<ul>
<li>In browser, create new repo on GitHub named <code>foofactors</code>. Public. NO THANKS re: README, .gitignore, license.</li>
<li>Copy the https URL to clipboard.</li>
<li>RStudio <em>File &gt; New Project … &gt; Version Control &gt; Git</em>. Paste the URL … <em>Create Project</em>.</li>
<li>Stage and commit <code>.gitignore</code> and <code>foofactors.Rproj</code>. Push.</li>
<li>Refresh view of <code>foofactors</code> repo on GitHub. Do <code>.gitignore</code> and <code>foofactors.Rproj</code> appear? YES, basic local &lt;–&gt; remote repo stuff set up. Yay.</li>
<li>Visit my version of <code>foofactors</code> on GitHub and get it.
<ul>
<li><a href="https://github.com/jennybc/foofactors" class="uri">https://github.com/jennybc/foofactors</a></li>
<li>Click on “Download ZIP” button. For me, this gets automatically un-gzipped and un-tarred when the download completes. YMMV.</li>
<li><code>foofactors-master</code> directory now exists in <code>~/Downloads</code>.</li>
</ul></li>
<li>Copy everything from <code>foofactors-master</code> (our stuff) into local <code>foofactors</code> (your stuff).</li>
<li>In RStudio, use the Git diff view to make sure things look reasonable. <code>.gitignore</code> and <code>foofactors.Rproj</code> are modified. Lots of other files are brand new. Stage it all and commit. Push.</li>
<li>Restart RStudio in your <code>foofactors</code> Project, so RStudio provides package building help, i.e. the Build tab with access to package-y stuff.</li>
<li>Test, document, and check the package. Everything OK? Read the errors and deal with them. Check again. OK? Yay. Stage any changes that were necessary, commit, push.</li>
<li>Build &amp; Reload. Use <code>fbind()</code> in the Console. Yes, it works.</li>
</ul>
<p>Option #2: Fork <code>foofactors</code> and get your copy the Git way</p>
<ul>
<li>Visit my <code>foofactors</code> in the browser:
<ul>
<li><a href="https://github.com/jennybc/foofactors" class="uri">https://github.com/jennybc/foofactors</a></li>
</ul></li>
<li>Click “Fork”.</li>
<li>You should arrive in a new repo <strong>under your own account</strong> that is clearly indicated to be a fork of <code>jennybc/foofactors</code>.</li>
<li>Copy the https URL of your fork to clipboard.</li>
<li>RStudio <em>File &gt; New Project … &gt; Version Control &gt; Git</em>. Paste the URL … <em>Create Project</em>.</li>
<li>Test, document, and check the package. Everything OK? Read the errors and deal with them. Check again. OK? Yay. Stage any changes that were necessary, commit, push.</li>
<li>Build &amp; Reload. Use <code>fbind()</code> in the Console. Yes, it works.</li>
</ul>
<p>Now you are ready to start modifying the package. Keep checking, committing, and pushing often.</p>
</div>
<div id="install-your-peers-package" class="section level2">
<h2>Install your peer’s package</h2>
<p>If you barrel ahead and install your peer’s <code>foofactors</code> package for review, it will likely overwrite the installation of your own <code>foofactors</code> package. Note: only your <em>installed</em> package is at risk. The <em>source</em> of your <code>foofactors</code> package lives on safely on your computer and on GitHub. And you could re-install from either source.</p>
<p>If you want to be more careful, here are two approaches to take more control of the situation.</p>
<div id="option-a.-install-peers-work-to-different-library" class="section level3">
<h3>Option A. Install peer’s work to different library</h3>
<p>In this option we install the peer’s version of <code>foofactors</code> to a non-default library, leaving the installation of your own version intact.</p>
<p>First, restart your R session. Specifically, we don’t want <em>your</em> <code>foofactors</code> package to be loaded before we start this. To confirm this is true, enter <code>search()</code> and make sure you don’t see <code>foofactors</code> listed in the result.</p>
</div>
<div id="step-1.-create-a-temporary-library" class="section level3">
<h3>Step 1. Create a temporary library</h3>
<p>This is nothing more than creating a new directory on your computer. It’s where you’ll install and load your peer’s package from. Then we’ll delete it. I’m putting in my all purpose temp directory, but you can pick another location.</p>
<pre><code>    tmp_lib &lt;- &quot;~/tmp/tmp_lib&quot;
    dir.create(tmp_lib)</code></pre>
<p>Navigate to this directory in some file browser or shell and confirm the directory exists.</p>
</div>
<div id="step-2.-install-foofactors-from-your-peer" class="section level3">
<h3>Step 2. Install <code>foofactors</code> from your peer</h3>
<p>Install your peer’s <code>foofactors</code> package from GitHub into your temporary library. Below, <code>devtools::with_lib()</code> prepends your usual list of libraries with <code>tmp_lib</code>. Don’t worry about the deprecation warning on <code>with_lib()</code>. I’m also opting to build your peer’s vignettes, which may cause some suggested packages to be installed. Load your peer’s package from <code>tmp_lib</code> and confirm you’re using the right version via <code>maintainer()</code>.</p>
<pre><code>    library(devtools)
    with_lib(tmp_lib,
             install_github(&quot;rebjoh/foofactors&quot;,
                            build_vignettes = TRUE))
    library(foofactors, lib.loc = tmp_lib)
    maintainer(&quot;foofactors&quot;)</code></pre>
<p>Use the peer’s package and submit your review.</p>
</div>
<div id="step-3.-remove-peers-work-after-peer-review" class="section level3">
<h3>Step 3. Remove peer’s work after peer-review</h3>
<p>Delete your temporary library any way you want. Restart your R session to clean out your loaded packages and rest assured that plain ol’ <code>library(foofactors)</code> will now load <em>your</em> version. Use <code>maintainer()</code> to check if you are worried. Here’s an R command to get rid of the temporary library.</p>
<pre><code>    unlink(tmp_lib, recursive = TRUE)</code></pre>
</div>
<div id="option-b.-overwrite-and-re-install" class="section level3">
<h3>Option B. Overwrite and re-install</h3>
<p>In this option you temporarily overwrite your installed version of <code>foofactors</code> with the version of your peer. This means that during the peer review you will not be able to load and run your version of <code>foofactors</code>.</p>
<div id="step-1.-backup" class="section level4">
<h4>Step 1. Backup</h4>
<p>Let’s make extra sure your <code>foofactors</code> source package is safely stored locally and on GitHub.</p>
<ul>
<li>Is your package in working order, with everything saved and committed and pushed to GitHub? Do it now!</li>
<li>Launch RStudio in the Project corresponding to your <code>foofactors</code> package.</li>
<li><p>De-install <code>foofactors</code> and confirm it’s truly gone from your library:</p>
<pre><code>remove.packages(&quot;foofactors&quot;)
## Restart R session
library(&quot;foofactors&quot;)
## Error in library(&quot;foofactors&quot;) : there is no package called ‘foofactors’</code></pre></li>
<li>Re-install <code>foofactors</code> and confirm it’s back in your library. Use RStudio’s “Build &amp; Reload” then call <code>fbind()</code>, get help <code>?fbind</code>, browse the vignette, etc.</li>
<li>De-install <code>foofactors</code> again (see above).</li>
<li><p>Re-install <code>foofactors</code> <strong>from GitHub</strong> this time.</p>
<pre><code>library(devtools)
install_github(&quot;YOURGITHUBUSERNAME/foofactors&quot;,
               build_vignettes = TRUE)
library(&quot;foofactors&quot;)</code></pre>
<p>Revisit spot checks from above that <code>foofactors</code> is back and in working order.</p></li>
</ul>
<p>If everything works as expected, you can feel good that your package source is safely stored locally and on GitHub.</p>
</div>
<div id="step-2.-install-foofactors-from-your-peer-1" class="section level4">
<h4>Step 2. Install <code>foofactors</code> from your peer</h4>
<p>Now that you know that you can re-install your version of <code>foofactors</code>, it’s time to let your peer’s version of <code>foofactors</code> take over.</p>
<ul>
<li><p>Install your peer’s <code>foofactors</code>, load it, check maintainer:</p>
<pre><code>library(devtools)
install_github(&quot;YOURPEER/foofactors&quot;, build_vignettes = TRUE) 
library(foofactors)
maintainer(&quot;foofactors&quot;)
## USE IT</code></pre></li>
<li><p>Review peer’s version of <code>foofactors</code>.</p></li>
</ul>
</div>
</div>
<div id="step-3.-re-install-your-version" class="section level3">
<h3>Step 3. Re-install your version</h3>
<p>Once you are done with the peer review, restore your own version of <code>foofactors</code>.</p>
<ul>
<li>To install from your local source, launch RStudio in your <code>foofactors</code> Project and do “Build and Reload”.</li>
<li><p>Or install from GitHub</p>
<pre><code>devtools::install_github(&quot;YOURGITHUBUSERNAME/foofactors&quot;)</code></pre></li>
<li><p>Either way, verify your version is now installed:</p>
<pre><code>maintainer(&quot;foofactors&quot;)</code></pre></li>
</ul>
</div>
</div>

<div class="footer">
This work is licensed under the  <a href="http://creativecommons.org/licenses/by-nc/3.0/">CC BY-NC 3.0 Creative Commons License</a>.
</div>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
